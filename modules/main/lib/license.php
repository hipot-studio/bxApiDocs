<? namespace Bitrix\Main;$GLOBALS['____1720858597']= array(base64_decode('Zmls'.'Z'.'V9leGlzdHM='),base64_decode('c'.'3RydG9'.'1c'.'HB'.'l'.'cg'.'=='),base64_decode('b'.'WQ1'),base64_decode('bW'.'Q1'),base64_decode('aW5f'.'YXJyYXk'.'='),base64_decode(''.'aW5f'.'YXJyYXk='),base64_decode('aW5'.'fYXJyYXk='),base64_decode(''.'ZGV'.'maW5lZA'.'=='),base64_decode(''.'ZGVmaW5lZA'.'=='),base64_decode('ZGV'.'maW5lZA=='),base64_decode('Z'.'mlsZV'.'9'.'leGlzd'.'H'.'M='),base64_decode('Z'.'mls'.'ZV'.'9leG'.'lzd'.'HM='),base64_decode('Z'.'mls'.'ZV9leGlzdHM='),base64_decode('Zm'.'lsZV'.'9leGl'.'zdHM='),base64_decode('ZXhwbG'.'9k'.'ZQ=='));if(!function_exists(__NAMESPACE__.'\\___265418726')){function ___265418726($_1746581405){static $_1799176193= false; if($_1799176193 == false) $_1799176193=array('L2Jp'.'dH'.'J'.'p'.'eC'.'9saWNl'.'bnN'.'l'.'X2tleS5'.'waHA=','','','REVNTw'.'='.'=',''.'RE'.'V'.'N'.'Tw==','Qk'.'lU'.'U'.'k'.'l'.'Y','T'.'ElD'.'R'.'U5'.'DRQ'.'==','REVNTw==','L2t'.'leV91cGRh'.'dGUucGhw'.'P2xpY'.'2'.'Vuc2Vfa2V5'.'PQ==','JnR'.'v'.'Ym'.'Fza2V0PXkm'.'bGFuZz0'.'=','cn'.'U=','a3o=',''.'Ynk=','aHR'.'0c'.'H'.'M6Ly9k'.'ZXYuMW'.'MtY'.'ml0cml4LnJ1L'.'2xl'.'YXJu'.'a'.'W'.'5nL2Nv'.'dXJ'.'zZS9pbmRle'.'C'.'5wa'.'HA/Q09VUl'.'NFX0lEPTEzNSZ'.'M'.'RVNTT05'.'f'.'SUQ'.'9'.'Mj'.'U3M'.'jA=','aH'.'R0'.'cHM6Ly9'.'0'.'cm'.'F'.'pb'.'mluZy5iaXRyaXgyNC5jb'.'20vc'.'3Vw'.'cG9yd'.'C90c'.'mFpb'.'mlu'.'Z'.'y9jb3V'.'y'.'c2'.'Uva'.'W5kZX'.'gucGhwP0'.'NPV'.'VJTRV9JRD0xNz'.'gmTEV'.'TU09OX'.'0lE'.'PTI1'.'OTM'.'yJkxFU1NPT'.'l9'.'QQV'.'RI'.'PTE3NTIwL'.'jE3NT'.'YyLj'.'I'.'1O'.'TMwLjI1OTMy','cnU=','Ynk=','a3o=','ZG'.'U=','Z'.'X'.'U=','ZnI=','cGw=','aXQ=','dWs=','Z'.'XU=','Y29t',''.'ZW'.'4=','REVNTw==','W'.'Q'.'==',''.'V'.'E'.'lN'.'RU'.'xJTUl'.'UX0VESVRJT04=','WQ==','RU5DT0R'.'F',''.'WQ='.'=',''.'U2'.'l0ZUV'.'4cGly'.'Z'.'U'.'RhdGU=','bWFpbg'.'==','fnN1cHBvc'.'nRfZm'.'luaXNoX2'.'Rh'.'dGU'.'=','WS1tLWQ=','W'.'S1t'.'LWQ=','Ym'.'l'.'0cml4'.'MjQ=','bWFpbg==','fl'.'BB'.'UkFNX0N'.'MSUVOVF9'.'M'.'QU5H','a'.'W50cmFu'.'ZX'.'Q=','ZW4=','cnU=','bWFpbg='.'=','dmVuZG9y','dWFfYml0cml4'.'X3Bvcn'.'R'.'hb'.'A='.'=','dWE=','Yml0c'.'ml4X3Bv'.'cnRhbA'.'==','ZW4=','MWNfYm'.'l0'.'cml'.'4'.'X3BvcnR'.'hbA==','cnU'.'=',''.'L2J'.'pdH'.'Jpe'.'C9tb2R1bGVzL21'.'h'.'aW4vbGFuZy9'.'1YQ'.'='.'=','dWE=','L2Jp'.'dHJ'.'peC'.'9t'.'b2R1bG'.'VzL2'.'1'.'ha'.'W'.'4vbGFuZy9'.'ieQ'.'='.'=','Ynk=',''.'L2JpdHJpeC9tb2R1bGVzL21haW'.'4vb'.'GFu'.'Zy9reg==','a'.'3o'.'=','L2Jpd'.'H'.'J'.'peC9t'.'b2R1bGVzL'.'2'.'1ha'.'W4v'.'b'.'G'.'FuZ'.'y9ydQ='.'=',''.'c'.'n'.'U=','b'.'WFp'.'b'.'g='.'=',''.'flBBU'.'kFN'.'X1B'.'BUlROR'.'VJ'.'fSU'.'Q=','bWFpbg==','UEFSQU1f'.'TU'.'FYX'.'1VTRVJT','bWFpbg==','fk'.'NPVU5'.'UX'.'0VYVFJ'.'B','T'.'g'.'==','WQ='.'=','Z'.'Xh0cmFuZXQ=','QU5EIFUuT'.'EFTVF9'.'MT0dJ'.'Ti'.'A'.'+I'.'A==','QU5EIFUu'.'TEFT'.'V'.'F'.'9'.'MT0dJTiBJUyBOT1QgTlVMT'.'A='.'=','aW50cmFuZXQ=','bW'.'Fpbg==','fmxpY2Vu'.'c2VfbmFt'.'ZQ==','b'.'WFpb'.'g'.'==',''.'fmx'.'pY'.'2Vuc2VfY29kZ'.'XM=','','L'.'A==');return base64_decode($_1799176193[$_1746581405]);}}; use Bitrix\Main\Config\Option; use Bitrix\Main\Type\Date; final class License{ private?string $_519247762= null; private const DOMAINS_STORE_LICENSE=[ 'ru' => 'https://util.1c-bitrix.ru', 'ua' => 'https://util.bitrix.ua', 'en' => 'https://util.bitrixsoft.com', 'kz' => 'https://util.1c-bitrix.kz', 'by' => 'https://util.1c-bitrix.by',]; public const URL_BUS_EULA=[ 'ru' => 'https://www.1c-bitrix.ru/download/law/eula_bus.pdf', 'by' => 'https://www.1c-bitrix.by/download/law/eula_bus.pdf', 'kz' => 'https://www.1c-bitrix.kz/download/law/eula_bus.pdf', 'ua' => 'https://www.bitrix.ua/download/law/eula_bus.pdf',]; public const URL_CP_EULA=[ 'ru' => 'https://www.1c-bitrix.ru/download/law/eula_cp.pdf', 'by' => 'https://www.1c-bitrix.by/download/law/eula_cp.pdf', 'kz' => 'https://www.1c-bitrix.kz/download/law/eula_cp.pdf', 'en' => 'https://www.bitrix24.com/eula/', 'br' => 'https://www.bitrix24.com.br/eula/', 'fr' => 'https://www.bitrix24.fr/eula/', 'pl' => 'https://www.bitrix24.pl/eula/', 'it' => 'https://www.bitrix24.it/eula/', 'la' => 'https://www.bitrix24.es/eula/',]; public const URL_RENEWAL_LICENSE=[ 'com' => 'https://store.bitrix24.com/profile/license-keys.php', 'eu' => 'https://store.bitrix24.eu/profile/license-keys.php', 'de' => 'https://store.bitrix24.de/profile/license-keys.php', 'ru' => 'https://www.1c-bitrix.ru/buy/products/b24.php#tab-section-2', 'by' => 'https://www.1c-bitrix.by/buy/products/b24.php#tab-section-2', 'kz' => 'https://www.1c-bitrix.kz/buy/products/b24.php#tab-section-2',]; public function getKey(): string{ if($this->_519247762 === null){ $_2071414594= Loader::getDocumentRoot(). ___265418726(0); $LICENSE_KEY= ___265418726(1); if($GLOBALS['____1720858597'][0]($_2071414594)){ include($_2071414594);} $this->_519247762=($LICENSE_KEY == ___265418726(2) || $GLOBALS['____1720858597'][1]($LICENSE_KEY) == ___265418726(3)? ___265418726(4): $LICENSE_KEY);} return $this->_519247762;} public function getHashLicenseKey(): string{ return $GLOBALS['____1720858597'][2]($this->getKey());} public function getPublicHashKey(): string{ return $GLOBALS['____1720858597'][3](___265418726(5). $this->getKey(). ___265418726(6));} public function isDemoKey(): bool{ return $this->getKey() == ___265418726(7);} public function getBuyLink(): string{ return $this->getDomainStoreLicense(). ___265418726(8). $this->getHashLicenseKey(). ___265418726(9). LANGUAGE_ID;} public function getDocumentationLink(): string{ $_1176076618= $this->getRegion(); if($GLOBALS['____1720858597'][4]($_1176076618,[___265418726(10), ___265418726(11), ___265418726(12)])){ return ___265418726(13);} return ___265418726(14);} public function getRenewalLink(): string{ $_1176076618= $this->getRegion(); if($GLOBALS['____1720858597'][5]($_1176076618,[___265418726(15), ___265418726(16), ___265418726(17), ___265418726(18)])){ return self::URL_RENEWAL_LICENSE[$_1176076618];} if($GLOBALS['____1720858597'][6]($_1176076618,[___265418726(19), ___265418726(20), ___265418726(21), ___265418726(22), ___265418726(23)])){ return self::URL_RENEWAL_LICENSE[___265418726(24)];} return self::URL_RENEWAL_LICENSE[___265418726(25)];} public function getDomainStoreLicense(): string{ return self::DOMAINS_STORE_LICENSE[$this->getRegion()] ?? self::DOMAINS_STORE_LICENSE[___265418726(26)];} public function isDemo(): bool{ return $GLOBALS['____1720858597'][7](___265418726(27)) && DEMO === ___265418726(28);} public function isTimeBound(): bool{ return $GLOBALS['____1720858597'][8](___265418726(29)) && TIMELIMIT_EDITION === ___265418726(30);} public function isEncoded(): bool{ return $GLOBALS['____1720858597'][9](___265418726(31)) && ENCODE === ___265418726(32);} public function getExpireDate():?Date{ $_1951604932= (int)($GLOBALS[___265418726(33)] ?? min(84,0,28)); if($_1951604932> min(118,0,39.333333333333)){ return Date::createFromTimestamp($_1951604932);} return null;} public function getSupportExpireDate():?Date{ $_1951604932= Option::get(___265418726(34), ___265418726(35)); if(Date::isCorrect($_1951604932, ___265418726(36))){ return new Date($_1951604932, ___265418726(37));} return null;} public function getRegion():?string{ if(Loader::includeModule(___265418726(38))){ return \CBitrix24::getPortalZone();} $_1176076618= Option::get(___265418726(39), ___265418726(40)); if(!empty($_1176076618)){ return $_1176076618;} $_1176076618= $this->__1217754551(); if(!empty($_1176076618)){ return $_1176076618;} return $this->__250909364();} public function getEulaLink(): string{ if(ModuleManager::isModuleInstalled(___265418726(41))){ return self::URL_CP_EULA[$this->getRegion()] ?? self::URL_CP_EULA[___265418726(42)];} return self::URL_BUS_EULA[$this->getRegion()] ?? self::URL_BUS_EULA[___265418726(43)];} private function __1217754551():?string{ $_185207770= Option::get(___265418726(44), ___265418726(45)); if($_185207770 === ___265418726(46)){ return ___265418726(47);} if($_185207770 === ___265418726(48)){ return ___265418726(49);} if($_185207770 === ___265418726(50)){ return ___265418726(51);} return null;} private function __250909364():?string{ $_2040313520= Application::getDocumentRoot(); if($GLOBALS['____1720858597'][10]($_2040313520. ___265418726(52))){ return ___265418726(53);} if($GLOBALS['____1720858597'][11]($_2040313520. ___265418726(54))){ return ___265418726(55);} if($GLOBALS['____1720858597'][12]($_2040313520. ___265418726(56))){ return ___265418726(57);} if($GLOBALS['____1720858597'][13]($_2040313520. ___265418726(58))){ return ___265418726(59);} return null;} public function getPartnerId(): int{ return (int)Option::get(___265418726(60), ___265418726(61),(1492/2-746));} public function getMaxUsers(): int{ return (int)Option::get(___265418726(62), ___265418726(63), min(74,0,24.666666666667));} public function isExtraCountable(): bool{ return Option::get(___265418726(64), ___265418726(65), ___265418726(66)) === ___265418726(67) && ModuleManager::isModuleInstalled(___265418726(68));} public function getActiveUsersCount(Date $_803798510= null): int{ $_844824951= Application::getConnection(); $_1652078647= min(2,0,0.66666666666667); if($_803798510 !== null){  $_1413721506= ___265418726(69).$_844824951->getSqlHelper()->convertToDbDate($_803798510);} else{  $_1413721506= ___265418726(70);} if(ModuleManager::isModuleInstalled(___265418726(71))){ $_1962767475="
				SELECT COUNT(DISTINCT U.ID)
				FROM
					b_user U
					INNER JOIN b_user_field F ON F.ENTITY_ID = 'USER' AND F.FIELD_NAME = 'UF_DEPARTMENT'
					INNER JOIN b_utm_user UF ON
						UF.FIELD_ID = F.ID
						AND UF.VALUE_ID = U.ID
						AND UF.VALUE_INT > 0
				WHERE U.ACTIVE = 'Y'
					{$_1413721506}
			"; $_1652078647= (int)$_844824951->queryScalar($_1962767475); if($this->isExtraCountable()){ $_1962767475="
						SELECT COUNT(1)
						FROM
							b_user U
							INNER JOIN b_extranet_user EU ON EU.USER_ID = U.ID AND EU.CHARGEABLE = 'Y'
							LEFT JOIN (
								SELECT UF.VALUE_ID 
								FROM 
									b_user_field F
									INNER JOIN b_utm_user UF ON UF.FIELD_ID = F.ID AND UF.VALUE_INT > 0
								WHERE F.ENTITY_ID = 'USER' AND F.FIELD_NAME = 'UF_DEPARTMENT'
							) D ON D.VALUE_ID = U.ID
						WHERE U.ACTIVE = 'Y'
							{$_1413721506}
							AND D.VALUE_ID IS NULL
					"; $_1652078647 += (int)$_844824951->queryScalar($_1962767475);}} return $_1652078647;}  public function getName(): string{ return Option::get(___265418726(72), ___265418726(73));}  public function getCodes(): array{ $_465477692= Option::get(___265418726(74), ___265418726(75)); if($_465477692 != ___265418726(76)){ return $GLOBALS['____1720858597'][14](___265418726(77), $_465477692);} return[];}}?>